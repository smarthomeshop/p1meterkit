# P1MeterKit firmware â€“ GitHub Pages branch (gh-pages)

This branch hosts the public firmware artifacts and manifests for P1MeterKit. It is served via GitHub Pages and is intended to be consumed by:
- ESP Web Tools (browser-based flashing)
- OTA update integrations (using the JSON manifest)

## Do not edit manually
Files in this branch are generated by the CI workflow in the default branch. Any manual changes will be overwritten on the next publish.

## Layout
Depending on the workflow configuration, you will find:
- Per-version folders:
  - `p1meterkit-v1/` containing:
    - `manifest.json` (version-specific)
    - Firmware binaries for ESP8266
  - `p1meterkit-v2/` containing:
    - `manifest.json` (version-specific)
    - Firmware binaries for ESP32-C3
- Aggregate manifests at the root:
  - `p1meterkit-v1-manifest.json`
  - `p1meterkit-v2-manifest.json`
  - These reference the paths inside the per-version folder so external tools have a stable URL.

## OTA update manifest
The P1MeterKit V2 ESPHome firmware consumes the per-version `manifest.json` directly for OTA updates.

## How this branch is updated
- On pushes to the default branch (or when manually dispatched), the CI pipeline:
  1) builds all variants with ESPHome
  2) exports firmware and per-variant manifests
  3) writes an aggregate manifest
  4) deploys this folder structure to the `gh-pages` branch
